language: java
dist: trusty
jdk:
  - oraclejdk8
  - openjdk8
install:
  - "./gradlew assemble -PSONATYPE_USERNAME=${SONATYPE_USERNAME} -PSONATYPE_PASSWORD=${SONATYPE_PASSWORD}"

before_script:
  - openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $DEPLOY_DIR/pubring.gpg.enc -out $DEPLOY_DIR/pubring.gpg -d
  - openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $DEPLOY_DIR/secring.gpg.enc -out $DEPLOY_DIR/secring.gpg -d

script:
  - "./gradlew clean build -PSONATYPE_USERNAME=${SONATYPE_USERNAME} -PSONATYPE_PASSWORD=${SONATYPE_PASSWORD}"
  
env:
  global:
  - DEPLOY_DIR="`pwd`/publish"
  - secure: jUd10YzMEEYq0YEjSAtP9unBp5fAY2xyJhBKOpOI+XZlZbCWj9RRRkYsJkf27/GoAucw0sSryEO62LiaJ9yUW+VAcpEBQB8MWU+qIHryiBtTQVf+/0jLvzeGX+lmdOSdenPT0ghBMbsw0J1eXDVBjaSLm0iXnn7w6rTD6+STuOJB3YA1xWaTPVFI/arinTKgV+grTK34QKICVCU9XkZAU/4T5SqpbqMH3WbFrG0fcLz7RLSorrR5pcew3+k97QaixTBKylec1iFykgl8BMtNx1EWst9XoeI9696aplwMoQ6zlw6/YiyI7wNZucU7MYiruzV5nnhXXaJww2hdCMadB4JEY/HlVldCL7eDzDqNythQ85fIByqApuVKarSqeIe0z0PC4q9Z2g4jBNlb/VD8/9hO94LoFO8HcxHPa7OHrRoIcauBU9tVId4o7PxWg/cSmokx9pOzIay5s+qjvKAZquQo5wQHMd3BreXRl9I+1BMDLDOnc8QOd6eBBdw4Btep7odDn/Tyek6qEeHAPpPEeiXzZpltTCWUI1sinLdmu1RK2MBVD3cxNUyEJHLKJD5dofV6zZwJb/FKUo97Up+4hiES05DR42AIREWcd5z3vwIvDFuaU4MVsih5yDc3gtcNYXUvm6Dtl1a6g2oS/mEPyWVHd1ILcPRxhVWBYgRuWJM=
  - secure: apgGj4iUAvtSOQjcYKyrzQAJp+P9yP1LJFtQvkY6Dk0mLqhIG2+/gpmj4lcIR1xk22IZfMoMcTsSz22CHUaFInS8XdLXLGjlMZfAzRK3WjwSAO3HGjpKmKz0CLb7WOs5npcVjuulHobZ9PUrL3CznO29uc69HG9mtMwwiTpwv9CD3Vcktk0+T1NcqCunajWTM/CSvjxxbjQ+UbUSVO4FxVYfd25tvLPIqUUW5QS2NkCqxHSxSYYOs2tc2EeW2r5IWsJfzCaqBNGp9EBTC3Em0if7ctIvy77K31u5GUFs4JWHL92sank66ghrKj4DC1dm77S4o3SsX6tgk47cATHpmSWavObEdgxqvIkQwtl+qnjWDYeUaDC4Sc+qxEf64o7lLu1Yj88VYxn5sZS0UQcnN7gly0H2JwtpCPIpmT0D8catx0AMVtHh4+LwlicaQsGvMy796ZUiNj7dneFpDYLfplL365ULQMzaVuFGxRmede+UAxvCK2hVQY+RBIilqomELjnkR71LZaKLT//QlNJyuxntdYbhx7ywZw06ks9BaVJeXhvihsebAvc33YgYB3sG5G+p6v+ireuX+I+Rje0AElMVd6GCYzCHyxbGr1UIJfnyX+n/FdeP3fw53s2NFNrD3n5ptWSyngmA4SQ2rQ0yNfVaf/gpbUUPTzKSleZDwl0=
  - secure: b/vNE6xGWw1WGM1GEC3UhNcK6Gampot5SGtlZSrimSdZj8BfOo9Ue0YkxIevW/qjMw+BoQuakOcRPhxLRbr7O2T+1yOvBUpbt+q0bRC6YAKrxjmVk2HekSDMpKrKAg7zLacfgw+Jf93AfHjioZUun86A0P2EIcg7EilNFkNQOHTsAV4Z3Qg0T4TJ7EEzCcQ9xY+LIycn9nvH7QHH5fwW5EowkYD2Mn2U/RbxPinEGUPnmeHHjbfm/OJ8J8NZIdSr9uDfX8/8EbYK4xQCCMWj3qkk85Ly5ztPXPMjfcPyu1F12+dd+OflIE51kj4i21eYOjPdDFI7HMVWaaDy0Lbn4EPQzKAdfNesxUV/NH3pqF/BGciMU0VZpZb7kwyy7exUCm6eyAOCti7AYg0k0mjqq2CiK3mDNNRZULgO21mfZ3JzaAZwt/AF58qH/QF8NiQIg4hxtKwxcbN517A0Xt+bbw59ZmbVIAKAwGBidxLKV/TNJSNhkrhSTB9qt4wVsO/zNuFlh+IRVvbzXWEgVBDnFd1CUDA2YyW7dDGHgD5eJSCwmcxe+80UjlJJX9P1UCr27hYdZQc8zdTjBXvB4CUuhl6imJiDzNcf44EdOm3Dzd3lsYK0iZqmVklDMubB9x9ntSvixu23wQHo+z8e05EYvgju0cOBD64E+AWdFGT1F/4=
  - secure: pOyr7XlNVlBKTeyWoRV0YzJvF87GrWtE1hGWYPI74HgvRMQ0cxSASOxpo5i0K9Ooe6/AXN00RGh7BQJmOI2nvwKqaeT8AxFQyIBdnfgysfCLAn9X462miaJVEZG8ZTgJXXpognUi8OGxGctsRUoc1VDT9IuadYnrUMv1FIrCzGkvUxp/iJOrZxOof3GoIXYuGuVM403YNpH0MI6FoNW0AEqwmH9pH/yA9X1omO2RUXru4NpJLnrRLN/fKh9W3HoWkkW9mR0VbrJl7ns5+N/Lb0Vcq+Xs0es/RZzR+SemmOq7bbEAXeZlCtvc8Ipz18huZfjsbw+RugLMmatohrLmN8E19GSbDVGyIN220xF/ltyoBlJcAF441jbeVXSJMJywK5QoETZB3EQe9vBSlvqsH1FyZc5nhO6wRXGJvVMRABJmH6oGJuOfwrgaMbena7w3REAQwwxBZzwEJ0QUCg1TY9vXSs6E4x4iDyh1GgB0PeER5i8FezQRyej6t3Q/RtkfSK/Frs/xp9BQ6vc9PFgUAnVmbZcosmc7+vygoVV6/RvIyImAUELVo8XrwmCtNUFbU4dWVo0MqV8nNqL+k7SgOfsSPd8WXNLyKXZBgW37llN30fnelRo6cqULIymmj+TZ01EjWtoGHma7/26DDvk7al7XXzFv9afLdMAUb3IKI1Q=
  - secure: YthQH/g9UDz3z3MpF2ucPuA+MmB0M8LFq9ZS3xFpIzE79WGgMQSZbhEkL7L3u+Xxu6CZRxV+Z2E+VHFiyYaPXQSqKDsFM4636rAUH/ZagN4jj0TWrytxS3O7QZ/LV1hr7s9PBqmkFXnbKUkPV6IMxsjDAv1LnhwAlkS8iKFj9r5EcKTX5zLtxCIEQhvxUq5c+83esK5/hMdvCQvLNjt7KnfABAS5fk2XOILfMxVkPgEOsH5/FN6AQ/5V0mGqAcP9/c1d9DgYTMuc0KYYOauFEiuMmutPXWGdxkfzbr7Ri9plwkpdonlwYpSP7qEIuLScZHJmf9/HU2bZ6O2UUKgZDdYJiw2VXnQiZi3Kldr1JPhc6DLSvRC9QKY13et2HAWSXPduj1o4MYEOXW9Ugx6Gpw3llNZKGqNMqOyQZzbpRvGoeVTig6vZC3ej0F0zqRptx/Dah6su1WcniYWg7YdCwfvrjjwxRrAOwS8+X6G/59KiByeD19p9AAp86jKyJ5yHY3nxpomYwfFJ98d7CX53k0tKBHZzTrt5PqDnY8l2Kls/JpEuIOOIM4KPTQRnhoxyX2+5GJ2Frbkj1eBi+TOfzaMfZLxmK/aOrrCYGnFU52DfwAHIaOGvueBW3CW1btS23n6atUsnUutF21yKOm72IqP2cc2xye5uYCsOZ637EAs=
